# –•—É–∫ useFetch

–ö–∞—Å—Ç–æ–º–Ω—ã–π React-—Ö—É–∫ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏, –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

## üìã –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ **–ü—Ä–æ—Å—Ç–æ–π API** - –ª–µ–≥–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ AbortController
- ‚úÖ **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ query-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ URLSearchParams
- ‚úÖ **–°–æ—Å—Ç–æ—è–Ω–∏—è** - –∑–∞–≥—Ä—É–∑–∫–∞, –¥–∞–Ω–Ω—ã–µ, –æ—à–∏–±–∫–∏
- ‚úÖ **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - —Ñ—É–Ω–∫—Ü–∏—è `refetch` —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç race conditions** - –æ—Ç–º–µ–Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –Ω–æ–≤—ã—Ö

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

````javascript
// –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª use-fetch.jsx –≤ –ø–∞–ø–∫—É —Å —Ö—É–∫–∞–º–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```jsx
import { useFetch } from './hooks/use-fetch';

function MyComponent() {
  const { data, isLoading, error, refetch } = useFetch('https://api.example.com/data');

  if (isLoading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;
  if (error) return <div>–û—à–∏–±–∫–∞: {error}</div>;

  return (
    <div>
      {data && data.map(item => (
        <div key={item.id}>{item.title}</div>
      ))}
      <button onClick={() => refetch({ params: { _limit: 5 } })}>
        –û–±–Ω–æ–≤–∏—Ç—å
      </button>
    </div>
  );
}
````

## API

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ö—É–∫–∞

```
useFetch(url)
```

- url (string) - URL-–∞–¥—Ä–µ—Å –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

```js
{
  (data, // –î–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞ –∏–ª–∏ null
    isLoading, // –§–ª–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ (boolean)
    error, // –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∏–ª–∏ null
    refetch); // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
}
```

### –§—É–Ω–∫—Ü–∏—è refetch

```
refetch(options)
```

- options.params (object) - query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫ URL

–ü—Ä–∏–º–µ—Ä:

```js
refetch({
  params: {
    _limit: 10,
    _page: 2,
    sort: 'title',
  },
});
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –û—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

- –•—É–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AbortController –¥–ª—è:

- –û—Ç–º–µ–Ω—ã –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ refetch

- –û—á–∏—Å—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è race conditions

### –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å URL

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ URLSearchParams

- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

- –í–∞–ª–∏–¥–∞—Ü–∏—è URL —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä URL
